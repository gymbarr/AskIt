<%= turbo_stream.append "loaded-answers" do %>
  <% @answers.each do |answer| %>
    <%= render 'answers/answer', { answer: answer } %>

    <% answer.descendants.first(@comments_per_page).each do |comment| %>
      <%= render 'comments/comment', { comment: comment } %>
    <% end %>

    <%= render 'comments/loaded_comments', { answer: answer } %>
  <% end %>
<% end %>

<%= turbo_stream.update "load-more-answers-button" do %>
  <% if @pagy_answers.next.present? %>
    <%= button_to "Load more", load_more_answers_path(question_id: @question.id, page: @pagy_answers.next),
                  class:"btn btn-outline-primary" %>
  <% end %>
<% end %>